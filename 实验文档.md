## 数据库ER图

## 数据库表结构

## 核心SQL语句说明和触发器说明
- `SEND_MESSAGE_AFTER_UPDATE_STATUS`: 更新菜品状态后自动发送消息
    - 触发条件：商家更新订单中菜品状态
    - 触发动作：向顾客发送消息
    - sql说明：先根据`order_dish`中的菜品得到`dish_id`，再根据`dish_id`得到商家的id，然后将以上信息组装成消息内容，并插入`message`表中。
    
- `UPDATE_DISH_AVG_MARK`: 更新菜品平均评分
    - 触发条件：菜品被评分
    - 触发动作：更新菜品的平均评分
    - sql说明：先根据`order_dish`得到该菜品的评分，然后计算平均值，更新`dish`表中的`avg_mark`字段。

- `UPDATE_SELLER_AVG_MARK`: 更新商家平均评分
    - 触发条件：买家评价商家
    - 触发动作：更新商家的平均评分
    - sql说明：先根据`interact_seller`得到该商家的评分，然后计算平均值，更新`seller`表中的`avg_mark`字段。

- `UPDATE_DISH_SALES_VOLUME`: 更新菜品销量
    - 触发条件：用户完成订单,向order_dish表中插入数据的时候
    - 触发动作：根据购买方式更新菜品的不同方式的销量
    - sql说明：根据`order_dish`中的购买方式，直接将`order_dish`中的数量加到到`dish`表中的销量中。

## 初始化数据和相应的简要说明

